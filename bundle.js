(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n((function t(e,n,o,r,c,a,u){i(this,t),this.id=e,this.city=n,this.temp=o,this.tempC=r,this.icon=c,this.description=a,this.date=u})),c=function(){return n((function t(){i(this,t),this.list=[],this.nextId=0}),[{key:"add",value:function(t,e,n,o,i,c){var a=new r(this.nextId++,t,e,n,o,i,c);this.list.push(a)}},{key:"remove",value:function(t){this.list=this.list.filter((function(e){return e.id!==t}))}}])}();document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("#cityInput"),e=document.querySelector("#searchBtn"),n=document.querySelector("#image1"),o=document.getElementById("cityLocation"),i=document.getElementById("description"),r=document.getElementById("tempF"),a=document.getElementById("tempC"),u=document.querySelector("#date"),d=document.getElementById("weather-info"),l=document.querySelector("#ul"),s=document.querySelector("#saved-city"),y=document.querySelector("#saved-temp"),m=document.querySelector("#saved-tempC"),p=document.querySelector("#saved-description"),f=document.querySelector("time-stamped"),v=document.querySelector("#saveCityBtn"),h=document.querySelector("#removeBtn");if(document.querySelector("#refreshBtn"),d&&v){d.style.visibility="hidden",v.style.visibility="hidden";var b=new c;e.addEventListener("click",(function(){var e=t.value;e&&(function(t){fetch("".concat("https://api.openweathermap.org/data/2.5/weather","?q=").concat(t,"&appid=").concat("3f3a3408c529719814d0064e8c5d0eb0","&units=imperial")).then((function(e){if(!e.ok)throw new Error("".concat(t," name: typed wrong or blank input."));return e.json()})).then((function(t){!function(t){var e=t.weather[0].icon;n.src="https://openweathermap.org/img/wn/".concat(e,".png"),n.alt=t.weather[0].description,o.textContent=t.name,i.textContent=t.weather[0].description,u.textContent=t.dt,r.textContent="".concat(Math.round(t.main.temp),"°F"),a.textContent="".concat(Math.round((parseFloat(t.main.temp)-32)*(5/9))," °C")}(t)})).catch((function(e){console.error("Error fetching weather data:",e),i.textContent="".concat(t," name is an incorrect city. Please try again.")}))}(e),t.value="",d.style.visibility="visible",v.style.visibility="visible")})),v.addEventListener("click",(function(t){t.preventDefault();var e=o.textContent,c=r.textContent,d=a.textContent,l=n.src;console.log("addCity icon",l);var s=i.textContent,y=u.textContent;b.add(e,c,d,l,s,y),C()})),h.addEventListener("click",(function(){var t=Number(h.getAttribute("data-locationId"));b.remove(t),C(),s.textContent="",y.textContent="",p.textContent="",h.disabled=!0})),document.getElementById("switchDegBtn").addEventListener("click",(function(){var t=r,e=a;"none"===t.style.display?(t.style.display="block",e.style.display="none"):(t.style.display="none",e.style.display="block")}))}else console.log("Required DOM elements not found!");function C(){l.innerHTML=" ",b.list.forEach((function(t){var e=document.createElement("li");e.textContent="".concat(t.city),l.appendChild(e),e.addEventListener("click",(function(){return function(t){var e=document.querySelector("#image2");e.alt=t.description,e.src=t.icon,f.textContent=t.date,s.textContent=t.city,y.textContent=t.temp,m.textContent=t.tempC,p.textContent=t.description,h.disabled=!1,h.setAttribute("data-locationId",t.id)}(t)}))}))}}))})();