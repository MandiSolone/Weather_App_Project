(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n((function t(e,n,o,r,c,a,l){i(this,t),this.id=e,this.city=n,this.temp=o,this.tempC=r,this.icon=c,this.description=a,this.date=l})),c=function(){return n((function t(){i(this,t),this.list=[],this.nextId=0}),[{key:"add",value:function(t,e,n,o,i,c){var a=new r(this.nextId++,t,e,n,o,i,c);this.list.push(a)}},{key:"remove",value:function(t){this.list=this.list.filter((function(e){return e.id!==t}))}}])}();document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector("#cityInput"),e=document.querySelector("#searchBtn"),n=document.querySelector("#image1"),o=document.getElementById("cityLocation"),i=document.getElementById("tempF"),r=document.getElementById("tempC"),c=document.getElementById("description"),a=document.querySelector("#date"),l=document.getElementById("weather-info"),d=(document.querySelector("#ul"),document.querySelector("#saved-city"),document.querySelector("#saved-temp"),document.querySelector("#saved-tempC"),document.querySelector("#saved-description"),document.querySelector("time-stamped"),document.querySelector("#saveCityBtn"));document.querySelector("#removeBtn"),document.querySelector("#refreshBtn"),l&&d?(l.style.visibility="hidden",d.style.visibility="hidden",e.addEventListener("click",(function(){var e=t.value;e&&(function(t){fetch("".concat("https://api.openweathermap.org/data/2.5/weather","?q=").concat(t,"&appid=").concat("3f3a3408c529719814d0064e8c5d0eb0","&units=imperial")).then((function(e){if(!e.ok)throw new Error("".concat(t," name: typed wrong or blank input."));return e.json()})).then((function(t){!function(t){var e=t.weather[0].icon;n.src="https://openweathermap.org/img/wn/".concat(e,".png"),n.alt=t.weather[0].description,o.textContent=t.name,c.textContent=t.weather[0].description,a.textContent=t.dt,i.textContent="".concat(Math.round(t.main.temp),"°F"),r.textContent="".concat(Math.round((parseFloat(t.main.temp)-32)*(5/9))," °C")}(t)})).catch((function(e){console.error("Error fecthing weather data:",e),c.textContent="".concat(t," name is an incorrect city. Please try again.")}))}(e),t.value="",l.style.visibility="visible",d.style.visibility="visible")}))):console.log("Required DOM elements not found!")}));var a=new c;function l(){uLElement.innerHTML=" ",a.list.forEach((function(t){var e=document.createElement("li");e.textContent="".concat(t.city),uLElement.appendChild(e),e.addEventListener("click",(function(){return function(t){var e=document.querySelector("#image2");e.alt=t.description,e.src=t.icon,savedTimeStamp.textContent=t.date,savedCityEle.textContent=t.city,savedTempEle.textContent=t.temp,savedTempCEle.textContent=t.tempC,savedDescriptEle.textContent=t.description,removeBtn.disabled=!1,removeBtn.setAttribute("data-locationId",t.id)}(t)}))}))}saveCityBtn.addEventListener("click",(function(t){t.preventDefault();var e=cityLocationEle.textContent,n=tempEleF.textContent,o=tempEleC.textContent,i=imgEle.src;console.log("addCity icon",i);var r=descriptionEle.textContent,c=dateEle.textContent;a.add(e,n,o,i,r,c),l()})),removeBtn.addEventListener("click",(function(){var t=Number(removeBtn.getAttribute("data-locationId"));a.remove(t),l(),savedCityEle.textContent="",savedTempEle.textContent="",savedDescriptEle.textContent="",removeBtn.disabled=!0})),document.getElementById("switchDegBtn").addEventListener("click",(function(){var t=tempEleF,e=tempEleC;"none"===t.style.display?(t.style.display="block",e.style.display="none"):(t.style.display="none",e.style.display="block")}))})();